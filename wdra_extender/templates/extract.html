{% extends 'base.html' %}

{% block extra_head %}
{% if not extract.ready %}
    <meta http-equiv="refresh" content="15">
{% endif %}
{% endblock %}

{% block content %}
<h1>Extract Details</h1>

<hr>

<dl>
    <dt>UUID</dt>
    <dd>{{ extract.uuid }}</dd>

    <dt>Status</dt>
    <dd>
        {% if extract.ready %}
            Your extract has been processed and is ready to download.
        {% else %}
            Your extract is waiting to be processed, check back soon.
        {% endif %}
    </dd>
</dl>

{% if extract.ready %}
    <a class="btn btn-prima`ry btn-lg btn-block"
       href="{{ url_for('extract.download_extract', extract_uuid=extract.uuid) }}">
        Download
    </a>

{% else %}
    <button class="btn btn-info btn-lg btn-block"
            disabled>
        Download will be available soon
    </button>

{% endif %}

<button class="btn btn-lg btn-block" href="{{ url_for('extract.profile') }}">
    Home
</button>
<button class="btn btn-lg btn-block" href="{{ url_for('extract.show_extracts') }}">
    Show all Extracts
</button>

{% endblock %}
